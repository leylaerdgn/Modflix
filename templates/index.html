{% extends "base.html" %}

{% block content %}
    <!-- G襤R襤 BLM (HERO SECTION) -->
    <header class="hero">
        <div class="hero-welcome">Ho Geldiniz</div>
        <div class="hero-right fade-in-section">
            <h1>Hissine En Yak覺n Film,<br>Tek T覺k Uza覺nda</h1>
            <p>
                Ruh haline en uygun filmi bulmak art覺k 癟ok kolay. 
                Sadece nas覺l hissettiini se癟, gerisini bize b覺rak.
                Sinema d羹nyas覺n覺n derinliklerinde senin i癟in saklan覺lan hikayeler var.
            </p>
            <a href="#mood-section" class="scroll-btn">Duygunu Se癟</a>
            <a href="#ai-chat-section" class="scroll-btn secondary-btn">Sana Soray覺m</a>
        </div>
    </header>

    <!-- DUYGU KUTUCUKLARI BLM -->
    <section id="mood-section" class="moods-container">
        <h2 class="fade-in-section">Duygunu Se癟</h2>
        <p class="fade-in-section" style="font-family: 'Caveat', cursive; font-size: 1.8rem; margin-top: -20px; margin-bottom: 30px; color: #666;">Bug羹nk羹 ruh halini se癟, sana uygun filmleri bulal覺m.</p>
        <div class="grid fade-in-section">
            <!-- Her kart t覺kland覺覺nda script.js devreye girecek -->
            <div class="mood-card" onclick="selectMood('mutlu')">
                <h3>Mutlu</h3>
                <p>Neeni katlayacak filmler.</p>
            </div>
            <div class="mood-card" onclick="selectMood('uzgun')">
                <h3>zg羹n</h3>
                <p>Sana iyi gelecek hikayeler.</p>
            </div>
            <div class="mood-card" onclick="selectMood('ofkeli')">
                <h3>fkeli</h3>
                <p>Gerilimi azaltacak aksiyonlar.</p>
            </div>
            <div class="mood-card" onclick="selectMood('romantik')">
                <h3>Romantik</h3>
                <p>Kalbini 覺s覺tan filmler.</p>
            </div>
            <div class="mood-card" onclick="selectMood('sikilmis')">
                <h3>S覺k覺lm覺</h3>
                <p>S覺k覺nt覺n覺 da覺tacak elenceli filmler.</p>
            </div>
            <div class="mood-card" onclick="selectMood('heyecan')">
                <h3>Heyecan</h3>
                <p>Adrenalin dolu anlar.</p>
            </div>
            <div class="mood-card" onclick="selectMood('gurur')">
                <h3>Gurur</h3>
                <p>Baar覺 ve azim 繹yk羹leri.</p>
            </div>
            <div class="mood-card" onclick="selectMood('yalnizlik')">
                <h3>Yaln覺zl覺k</h3>
                <p>Kendinle ba baa kal.</p>
            </div>
            <div class="mood-card" onclick="selectMood('hayalkirikligi')">
                <h3>Hayal K覺r覺kl覺覺</h3>
                <p>Yeniden umut bulman i癟in.</p>
            </div>
            <div class="mood-card" onclick="selectMood('stresli')">
                <h3>Stresli</h3>
                <p>Sakinle ve rahatla.</p>
            </div>
        </div>

        <!-- POPLER F襤LMLER BLM -->
        <div class="popular-section fade-in-section">
            <div class="section-header" style="margin-bottom: 5px;">
                <h3>En ok 襤zlenenler</h3>
                <button class="see-all-btn" onclick="togglePopularGrid(this, 'popular-movies-container')">T羹m羹n羹 G繹r</button>
            </div>
            <p style="color: #666; font-size: 0.95rem; padding-left: 10px; margin-bottom: 20px;">u an herkesin izledii filmler. Trendleri ka癟覺rma.</p>
            <div class="movie-slider-wrapper">
                <button class="scroll-arrow left" onclick="scrollContainer('popular-movies-container', -1)">&#8249;</button>
                <div class="popular-scroll-container" id="popular-movies-container"></div>
                <button class="scroll-arrow right" onclick="scrollContainer('popular-movies-container', 1)">&#8250;</button>
            </div>
        </div>

        <!-- WAVE DIVIDER -->
        <div class="section-divider fade-in-section"></div>

        <!-- EN OK BEEN襤LENLER BLM -->
        <div class="popular-section fade-in-section">
            <div class="section-header" style="margin-bottom: 5px;">
                <h3>En ok Beenilenler</h3>
                <div style="display: flex; gap: 10px; align-items: center;">
                    <div class="filter-chips">
                        <span class="chip active" onclick="switchTopRatedTab(this, 'global')">Global</span>
                        <span class="chip" onclick="switchTopRatedTab(this, 'editor')">Edit繹r羹n Se癟imi</span>
                    </div>
                    <button class="see-all-btn" onclick="togglePopularGrid(this, 'top-rated-movies-container')">T羹m羹n羹 G繹r</button>
                </div>
            </div>
            <p style="color: #666; font-size: 0.95rem; padding-left: 10px; margin-bottom: 20px;">Beeni oran覺 y羹ksek, piman etmeyen se癟imler.</p>
            <div class="movie-slider-wrapper">
                <button class="scroll-arrow left" onclick="scrollContainer('top-rated-movies-container', -1)">&#8249;</button>
                <div class="popular-scroll-container" id="top-rated-movies-container"></div>
                <button class="scroll-arrow right" onclick="scrollContainer('top-rated-movies-container', 1)">&#8250;</button>
            </div>
        </div>

        <!-- WAVE DIVIDER -->
        <div class="section-divider fade-in-section"></div>
    </section>

    <!-- AI CHAT TEASER (SAYFA SONU) -->
    <section id="ai-chat-section" class="ai-chat-teaser fade-in-section">
        <h2>Yaad覺klar覺n覺 En 襤yi Anlatan Filmi Birlikte Kefedelim.</h2>
        <p>Sadece ne yaad覺覺n覺 anlat.<br>Senin hikayene en yak覺n senaryoyu bulal覺m.</p>
        <div class="teaser-input-container">
            <input type="text" id="teaser-input" placeholder="rn: Yeni bir ehre ta覺nd覺m, belirsizliklerle dolu ama umutlu bir g羹n...">
            <button onclick="startChatFromTeaser()"><svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"></path></svg></button>
        </div>
    </section>

    <!-- F襤LM NER襤LER襤 MODALI / SAYFASI (Basitlik i癟in ayn覺 sayfada gizli tuttum, JS ile a癟aca覺z) -->
    <div id="recommendation-overlay" class="overlay hidden">
        <div class="recommendation-content">
            <span class="close-btn" onclick="closeRecommendations()">&times;</span>
            
            <!-- CHAT ALANI -->
            <div class="chat-header">
                <h3>ModFlix Asistan覺 </h3>
                <p>Senin sinematik pusulan</p>
            </div>
            <div id="chat-box" class="chat-box"></div>
            <div class="chat-input-area">
                <input type="text" id="user-input" placeholder="Bir eyler yaz... (rn: Baka 繹ner? veya Bilim Kurgu olsun)">
                <button onclick="handleUserResponse()">G繹nder</button>
            </div>
        </div>
    </div>

    <!-- AI CHAT MODALI (Sana Soray覺m 襤癟in Ayr覺) -->
    <div id="ai-chat-modal" class="overlay hidden">
        <div class="recommendation-content">
            <span class="close-btn" onclick="closeAIChat()">&times;</span>
            
            <!-- CHAT ALANI -->
            <div class="chat-header">
                <h3>Senin Senaryon </h3>
                <p>Hayat覺ndan bir kesit anlat, benzer bir film eridini balatal覺m.</p>
            </div>
            <div id="ai-chat-box" class="chat-box"></div>
            <div class="chat-input-area">
                <input type="text" id="ai-user-input" placeholder="Devam et...">
                <button onclick="handleAIChatResponse()">G繹nder</button>
            </div>
        </div>
    </div>

{% endblock %}
